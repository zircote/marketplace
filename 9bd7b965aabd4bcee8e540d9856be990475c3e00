---
type: patterns
timestamp: '2025-12-24T05:06:20.703377+00:00'
summary: '...goToDefinition` to trace imports to their source'
tags:
- auto-captured
- post-tool-use
- file:deep-research.md
---

...goToDefinition` to trace imports to their source
   - Use `findReferences` to map module consumers

2. **Pattern Analysis:**
   - Identify design patterns and architectural decisions
   - Note code conventions...

---
type: patterns
timestamp: '2025-12-24T05:06:20.719875+00:00'
summary: '...design patterns and architectural decisions'
tags:
- auto-captured
- post-tool-use
- file:deep-research.md
---

...design patterns and architectural decisions
   - Note code conventions and style
   - Find reusable abstractions and utilities
   - Detect anti-patterns or technical debt

   **IF LSP AVAILABLE:**...

---
type: patterns
timestamp: '2025-12-24T05:06:20.737664+00:00'
summary: '...understand impact of changes'
tags:
- auto-captured
- post-tool-use
- file:deep-research.md
---

...understand impact of changes

   **Grep Fallback (when LSP unavailable):**
   - Use `Grep` for pattern matching across files
   - Use `Glob` for file discovery
   - Note: Grep may return false positives;...

---
type: patterns
timestamp: '2025-12-24T05:07:59.285467+00:00'
summary: '...NOT available:'
tags:
- auto-captured
- post-tool-use
- file:cr.md
---

...NOT available:
1. Note in report: "LSP unavailable - using Grep fallback"
2. Use Grep for pattern matching
3. Manually verify references to avoid false positives
4. Document any uncertainty...

---
type: patterns
timestamp: '2025-12-24T05:08:43.445031+00:00'
summary: '...architecture specialist. Review ALL code files for:'
tags:
- auto-captured
- post-tool-use
- file:cr.md
---

...architecture specialist. Review ALL code files for:
- SOLID principle violations
- Design pattern misuse or opportunities
- Circular dependencies
- God classes/functions (>300 lines)
- Inappropriate...

---
type: patterns
timestamp: '2025-12-24T05:11:23.588374+00:00'
summary: '...AVAILABLE: Use goToImplementation to verify interface contracts'
tags:
- auto-captured
- post-tool-use
- file:cr-fx.md
---

...AVAILABLE: Use goToImplementation to verify interface contracts

  Output: Files modified, pattern applied, tests passing"
)
─────────────────────────────────────────────────────────────────────────

---
type: patterns
timestamp: '2025-12-24T05:14:07.914661+00:00'
summary: '...NOT available:'
tags:
- auto-captured
- post-tool-use
- file:code-cleanup.md
---

...NOT available:
1. Note in report: "LSP unavailable - using Grep fallback"
2. Use Grep for pattern matching
3. Manually verify references to avoid false positives
4. Document any uncertainty...

---
type: patterns
timestamp: '2025-12-24T05:14:55.060658+00:00'
summary: '...architecture specialist. Review ALL code files for:'
tags:
- auto-captured
- post-tool-use
- file:code-cleanup.md
---

...architecture specialist. Review ALL code files for:
- SOLID principle violations
- Design pattern misuse or opportunities
- Circular dependencies
- God classes/functions (>300 lines)
- Inappropriate...

---
type: patterns
timestamp: '2025-12-24T05:17:00.326427+00:00'
summary: '...AVAILABLE: Use goToImplementation to verify interface contracts'
tags:
- auto-captured
- post-tool-use
- file:code-cleanup.md
---

...AVAILABLE: Use goToImplementation to verify interface contracts

  Output: Files modified, pattern applied, tests passing"
)
─────────────────────────────────────────────────────────────────────────

---
type: patterns
timestamp: '2025-12-24T05:18:18.687127+00:00'
summary: '...commands.**'
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T05:20:54.301177+00:00'
summary: '...commands.**

  `★ Insight ─────────────────────────────────────`

  **code-cleanup.md Integration P...'
tags:
- auto-captured
- pre-compact
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T05:24:31.772639+00:00'
summary: '...MultiEdit to agents that suggest code changes.'
tags:
- auto-captured
- post-tool-use
- file:AGENT_REVIEW_REPORT.md
---

...MultiEdit to agents that suggest code changes.

### 2. Inconsistent Core Tool Coverage

**Pattern:** Some agents lack basic file operation tools while having specialized ones.

**Examples:**
```yaml...

---
type: patterns
timestamp: '2025-12-24T05:24:31.813638+00:00'
summary: '...agents)'
tags:
- auto-captured
- post-tool-use
- file:AGENT_REVIEW_REPORT.md
---

...agents)

**Critical:** network-engineer lists CLI tools as MCP tools with incorrect categorization.

**Pattern:** Many reference cloud CLIs (aws-cli, gcloud, azure-cli) correctly as Bash tools.

### 04-quality-security...

---
type: patterns
timestamp: '2025-12-24T05:25:01.226949+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T05:25:01.243726+00:00'
summary: '...commands.**'
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T05:32:10.628968+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T05:42:19.853886+00:00'
summary: '▶ pattern ─────────────────────────────────────

  Agents structured for MCP tools vs CLI tools

  ## ...'
tags:
- auto-captured
- pre-compact
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T05:42:19.910438+00:00'
summary: '...commands.**

  `★ Insight ─────────────────────────────────────`

  **code-cleanup.md Integration P...'
tags:
- auto-captured
- pre-compact
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T05:48:06.852459+00:00'
summary: '...tools frontmatter for all language specialists'
tags:
- auto-captured
- post-tool-use
- file:AGENT_REVIEW_REPORT.md
---

...tools frontmatter for all language specialists
   - Files: `02-language-specialists/*.md`
   - Pattern: `tools: Read, Write, Bash, Glob, Grep, LSP, ...`

2. **Section Renaming (110+ files)**...

---
type: patterns
timestamp: '2025-12-24T05:49:02.425529+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T05:50:33.584180+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T05:56:21.829619+00:00'
summary: '▶ pattern ─────────────────────────────────────

  Agents structured for MCP tools vs CLI tools

  ## ...'
tags:
- auto-captured
- pre-compact
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T05:56:21.919926+00:00'
summary: '...commands.**

  `★ Insight ─────────────────────────────────────`

  **code-cleanup.md Integration P...'
tags:
- auto-captured
- pre-compact
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T06:04:50.058009+00:00'
summary: '...tools frontmatter for all language specialists'
tags:
- auto-captured
- post-tool-use
- file:AGENT_REVIEW_REPORT.md
---

...tools frontmatter for all language specialists
   - Files: `02-language-specialists/*.md`
   - Pattern: `tools: Read, Write, Bash, Glob, Grep, LSP, ...`

2. **Section Renaming (110+ files)**...

---
type: patterns
timestamp: '2025-12-24T06:05:53.481697+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T06:13:47.877688+00:00'
summary: '▶ pattern ─────────────────────────────────────

  Agents structured for MCP tools vs CLI tools

  ## ...'
tags:
- auto-captured
- pre-compact
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T06:13:47.951917+00:00'
summary: '...agent files with Context Manager Protocol sections (plus the report file).
  Let me examine the ...'
tags:
- auto-captured
- pre-compact
---

...agent files with Context Manager Protocol sections (plus the report file). Let me examine the pattern to understand what needs to be removed:

---
type: patterns
timestamp: '2025-12-24T06:13:48.010386+00:00'
summary: '...commands.**

  `★ Insight ─────────────────────────────────────`

  **code-cleanup.md Integration P...'
tags:
- auto-captured
- pre-compact
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T06:13:48.104702+00:00'
summary: 'Let me check what section follows `## Communication Protocol` to understand
  the pattern better:'
tags:
- auto-captured
- pre-compact
---

Let me check what section follows `## Communication Protocol` to understand the pattern better:

---
type: patterns
timestamp: '2025-12-24T06:19:11.772141+00:00'
summary: '#!/usr/bin/env python3'
tags:
- auto-captured
- post-tool-use
- file:add_help_pattern.py
---

#!/usr/bin/env python3
"""Add --help pattern to Claude Code command files."""

import re
import os
import sys
from pathlib import Path
from...

---
type: patterns
timestamp: '2025-12-24T06:19:11.795156+00:00'
summary: '...command content."""'
tags:
- auto-captured
- post-tool-use
- file:add_help_pattern.py
---

...command content."""
    examples = []

    # Look for code blocks with command invocations
    pattern = rf'(?:```[^\n]*\n)?(/[\w:]+[^\n]*)\n'
    for match in re.finditer(pattern, content):...

---
type: patterns
timestamp: '2025-12-24T06:19:11.817421+00:00'
summary: '...content'
tags:
- auto-captured
- post-tool-use
- file:add_help_pattern.py
---

...content

def add_help_to_command(filepath: Path, dry_run: bool = False) -> bool:
    """Add --help pattern to a command file."""
    content = filepath.read_text()

    # Skip if already has help...

---
type: patterns
timestamp: '2025-12-24T06:19:55.132758+00:00'
summary: '#!/usr/bin/env python3'
tags:
- auto-captured
- post-tool-use
- file:add_help_pattern.py
---

#!/usr/bin/env python3
"""Add --help pattern to Claude Code command files with XML demarcations."""

import re
import sys
from pathlib import...

---
type: patterns
timestamp: '2025-12-24T06:19:55.151739+00:00'
summary: '...command content."""'
tags:
- auto-captured
- post-tool-use
- file:add_help_pattern.py
---

...command content."""
    examples = []

    # Look for code blocks with command invocations
    pattern = r'(?:```[^\n]*\n)?(/[\w:]+[^\n]*)\n'
    for match in re.finditer(pattern, content):...

---
type: patterns
timestamp: '2025-12-24T06:19:55.170578+00:00'
summary: '...content'
tags:
- auto-captured
- post-tool-use
- file:add_help_pattern.py
---

...content

def add_help_to_command(filepath: Path, dry_run: bool = False) -> bool:
    """Add --help pattern to a command file."""
    content = filepath.read_text()

    # Skip if already has help...

---
type: patterns
timestamp: '2025-12-24T06:27:19.970623+00:00'
summary: '...the help section in a command file."""'
tags:
- auto-captured
- post-tool-use
- file:fix_help_sections.py
---

...the help section in a command file."""

    # Check if file has the malformed help section pattern
    if '<help_check>' not in content:
        return content

    fm = parse_frontmatter(content)...

---
type: patterns
timestamp: '2025-12-24T06:27:19.988882+00:00'
summary: '...proceed with command execution.**'
tags:
- auto-captured
- post-tool-use
- file:fix_help_sections.py
---

...proceed with command execution.**
</help_check>'''

    # Replace the existing help section
    pattern = r'<help_check>.*?</help_check>'
    new_content = re.sub(pattern, new_help, content, flags=re.DOTALL...

---
type: patterns
timestamp: '2025-12-24T06:27:39.756021+00:00'
summary: '▶ pattern ─────────────────────────────────────

  Agents structured for MCP tools vs CLI tools

  ## ...'
tags:
- auto-captured
- pre-compact
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T06:27:39.828259+00:00'
summary: '`★ Insight ─────────────────────────────────────`

  The `--help` pattern needs to be Claude-interpr...'
tags:
- auto-captured
- pre-compact
---

`★ Insight ─────────────────────────────────────`
The `--help` pattern needs to be Claude-interpretable since these are prompt files, not bash scripts. I'm designing...

---
type: patterns
timestamp: '2025-12-24T06:27:39.846180+00:00'
summary: '...agent files with Context Manager Protocol sections (plus the report file).
  Let me examine the ...'
tags:
- auto-captured
- pre-compact
---

...agent files with Context Manager Protocol sections (plus the report file). Let me examine the pattern to understand what needs to be removed:

---
type: patterns
timestamp: '2025-12-24T06:27:39.898219+00:00'
summary: '...commands.**

  `★ Insight ─────────────────────────────────────`

  **code-cleanup.md Integration P...'
tags:
- auto-captured
- pre-compact
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T06:27:39.987325+00:00'
summary: 'Let me check what section follows `## Communication Protocol` to understand
  the pattern better:'
tags:
- auto-captured
- pre-compact
---

Let me check what section follows `## Communication Protocol` to understand the pattern better:

---
type: patterns
timestamp: '2025-12-24T06:27:40.004941+00:00'
summary: Now I understand the current structure. Let me design the `--help` pattern
  and apply it systemati...
tags:
- auto-captured
- pre-compact
---

Now I understand the current structure. Let me design the `--help` pattern and apply it systematically:

---
type: patterns
timestamp: '2025-12-24T06:27:40.024112+00:00'
summary: '...────────────────────`

  Let me create a Python script to batch-update all commands with the `--...'
tags:
- auto-captured
- pre-compact
---

...────────────────────`

Let me create a Python script to batch-update all commands with the `--help` pattern:

---
type: patterns
timestamp: '2025-12-24T06:30:18.754079+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T06:35:59.834618+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T06:45:36.887078+00:00'
summary: '...conditions'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_NOTES.md
---

...conditions
5. `<configuration>` for setup sections

---

## Cross-Cutting Patterns Identified

### Pattern 1: Help Check (100% adoption - KEEP)
```xml
<help_check>
  If $ARGUMENTS contains --help/-h:...

---
type: patterns
timestamp: '2025-12-24T06:45:36.911053+00:00'
summary: '...$ARGUMENTS contains --help/-h:'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_NOTES.md
---

...$ARGUMENTS contains --help/-h:
    Output help text
    HALT immediately
</help_check>
```

### Pattern 2: Phase/Step Structure (NEEDS STANDARDIZATION)
- claude-spec: Uses `<phase>` tags
- gh: Uses...

---
type: patterns
timestamp: '2025-12-24T06:45:36.932791+00:00'
summary: '...Uses markdown headers'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_NOTES.md
---

...Uses markdown headers
- others: Mixed approach

**Recommendation**: Unified `<step>` tag

### Pattern 3: Conditional Logic (NEEDS FORMALIZATION)
- Currently: Embedded in prose
- Recommendation:...

---
type: patterns
timestamp: '2025-12-24T06:45:36.957332+00:00'
summary: '...FORMALIZATION)'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_NOTES.md
---

...FORMALIZATION)
- Currently: Embedded in prose
- Recommendation: `<conditional>` or `<when>` tags

### Pattern 4: Error Handling (GAPS)
- Only 8/41 commands have structured error handling
- Recommendation:...

---
type: patterns
timestamp: '2025-12-24T06:45:36.977464+00:00'
summary: '...have structured error handling'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_NOTES.md
---

...have structured error handling
- Recommendation: Universal `<error_handling>` section

### Pattern 5: Parallel Execution (INCONSISTENT)
- claude-spec: 3 different approaches
- others: None
-...

---
type: patterns
timestamp: '2025-12-24T06:45:36.999029+00:00'
summary: '...different approaches'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_NOTES.md
---

...different approaches
- others: None
- Recommendation: Unified `<parallel_pattern>` meta-tag

### Pattern 6: User Interaction (UNSTANDARDIZED)
- AskUserQuestion used in 8+ commands
- No consistent...

---
type: patterns
timestamp: '2025-12-24T06:45:37.018873+00:00'
summary: '..."magic" tags exist | HIGH | Explicitly stated |'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_NOTES.md
---

..."magic" tags exist | HIGH | Explicitly stated |
| Nesting for hierarchy | HIGH | Official best practice |
| Agents would benefit | MEDIUM | Logical extension, no explicit guidance |
| 40+ tags in...

---
type: patterns
timestamp: '2025-12-24T06:46:24.133848+00:00'
summary: '...Provide Highest Value'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_REPORT.md
---

...Provide Highest Value

**Evidence**: Cross-referencing Anthropic guidance with audit findings

| Pattern | Anthropic Basis | Current Usage | Improvement Value |
|---------|----------------|---------------|...

---
type: patterns
timestamp: '2025-12-24T06:46:24.156295+00:00'
summary: '...`'
tags:
- auto-captured
- post-tool-use
- file:RESEARCH_REPORT.md
---

...`

---

### Recommendation 3: Expand XML in Skills

Follow the `anthropic-prompt-engineer` exemplar pattern:

1. Wrap all code examples in `<example>` tags
2. Add `<constraints>` to limitations sections
3....

---
type: patterns
timestamp: '2025-12-24T06:48:08.143318+00:00'
summary: Agents structured for MCP tools vs CLI tools
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T06:52:50.907443+00:00'
summary: '...<trigger>When user mentions X</trigger>'
tags:
- auto-captured
- post-tool-use
- file:xml-templates.md
---

...<trigger>When user mentions X</trigger>
  <trigger>When working on Y</trigger>
  <trigger>When file pattern Z detected</trigger>
</triggers>
```

### Configuration Section
```xml
<configuration>
  <step...

---
type: patterns
timestamp: '2025-12-24T06:56:59.680629+00:00'
summary: '...completion_notification">'
tags:
- auto-captured
- post-tool-use
- file:frontend-developer.md
---

...completion_notification">
Completion message format:
"UI components delivered successfully. Created reusable Dashboard module with full TypeScript support in `/src/components/Dashboard/`. Includes responsive...

---
type: patterns
timestamp: '2025-12-24T06:59:32.665962+00:00'
summary: '▶ pattern ─────────────────────────────────────

  Agents structured for MCP tools vs CLI tools

  ## ...'
tags:
- auto-captured
- pre-compact
---

Agents structured for MCP tools vs CLI tools
## Pattern
Frontmatter `tools:` should only list actual MCP integrations. CLI tools should be documented in body text with "accessed via Bash" clarification.

## Evidence
All 116 agents mix MCP tools (Read, Write, Glob) with CLI tools (docker, kubectl, go) in the same `tools:` field, creating ambiguity about what's integrated vs what requires shell execution.

## Related Files
- plugins/zircote/agents/02-language-specialists/golang-pro.md:7
- plugins/zircote/agents/03-infrastructure/network-engineer.md:7
- plugins/zircote/agents/04-quality-security/code-reviewer.md:7

---
type: patterns
timestamp: '2025-12-24T06:59:32.758814+00:00'
summary: '`★ Insight ─────────────────────────────────────`

  The `--help` pattern needs to be Claude-interpr...'
tags:
- auto-captured
- pre-compact
---

`★ Insight ─────────────────────────────────────`
The `--help` pattern needs to be Claude-interpretable since these are prompt files, not bash scripts. I'm designing...

---
type: patterns
timestamp: '2025-12-24T06:59:32.776473+00:00'
summary: '...agent files with Context Manager Protocol sections (plus the report file).
  Let me examine the ...'
tags:
- auto-captured
- pre-compact
---

...agent files with Context Manager Protocol sections (plus the report file). Let me examine the pattern to understand what needs to be removed:

---
type: patterns
timestamp: '2025-12-24T06:59:32.831271+00:00'
summary: '...commands.**

  `★ Insight ─────────────────────────────────────`

  **code-cleanup.md Integration P...'
tags:
- auto-captured
- pre-compact
---

...commands.**

`★ Insight ─────────────────────────────────────`
**code-cleanup.md Integration Pattern:**
The code-cleanup command required LSP integration at **both steps**:
- **Step 1 (Review)**:...

---
type: patterns
timestamp: '2025-12-24T06:59:32.885498+00:00'
summary: '`★ Insight ─────────────────────────────────────`

  **XML Demarcation Pattern for Claude Code Comma...'
tags:
- auto-captured
- pre-compact
---

`★ Insight ─────────────────────────────────────`
**XML Demarcation Pattern for Claude Code Commands**
- The `<help_check>` wrapper with `<help_output>` creates a clear...

---
type: patterns
timestamp: '2025-12-24T06:59:32.902930+00:00'
summary: '...10 | ✅ Complete |

  | **lsp-tools** | 1 | ✅ Complete |

  **Total: 41 commands updated**

  ### Patt...'
tags:
- auto-captured
- pre-compact
---

...10 | ✅ Complete |
| **lsp-tools** | 1 | ✅ Complete |

**Total: 41 commands updated**

### Pattern Applied

Each command now includes:

```markdown
<help_check>
## Help Check
If `$ARGUMENTS`...

---
type: patterns
timestamp: '2025-12-24T06:59:32.922233+00:00'
summary: '...hours with 3-way parallelization (vs 44-60 hours sequential)

  ### Recommended Tag Patterns

  | ...'
tags:
- auto-captured
- pre-compact
---

...hours with 3-way parallelization (vs 44-60 hours sequential)

### Recommended Tag Patterns

| Pattern | Use Case | Anthropic Basis |
|---------|----------|-----------------|
| `<example>` | Code...

---
type: patterns
timestamp: '2025-12-24T06:59:32.977338+00:00'
summary: 'Let me check what section follows `## Communication Protocol` to understand
  the pattern better:'
tags:
- auto-captured
- pre-compact
---

Let me check what section follows `## Communication Protocol` to understand the pattern better:

---
type: patterns
timestamp: '2025-12-24T06:59:32.996288+00:00'
summary: Now I understand the current structure. Let me design the `--help` pattern
  and apply it systemati...
tags:
- auto-captured
- pre-compact
---

Now I understand the current structure. Let me design the `--help` pattern and apply it systematically:

---
type: patterns
timestamp: '2025-12-24T06:59:33.015107+00:00'
summary: '...────────────────────`

  Let me create a Python script to batch-update all commands with the `--...'
tags:
- auto-captured
- pre-compact
---

...────────────────────`

Let me create a Python script to batch-update all commands with the `--help` pattern:

---
type: patterns
timestamp: '2025-12-24T06:59:37.609724+00:00'
summary: '...Component Checklist'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

...Component Checklist

Creating a component? Follow this checklist:

- [ ] Use `React.FC<Props>` pattern with TypeScript
- [ ] Lazy load if heavy component: `React.lazy(() => import())`
- [ ] Wrap...

---
type: patterns
timestamp: '2025-12-24T06:59:37.628736+00:00'
summary: '...React.lazy()` for code splitting'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

...React.lazy()` for code splitting
- `SuspenseLoader` for loading states
- Named const + default export pattern

**Key Concepts:**
- Lazy load heavy components (DataGrid, charts, editors)
- Always wrap lazy...

---
type: patterns
timestamp: '2025-12-24T06:59:37.646074+00:00'
summary: '...resources/component-patterns.md](resources/component-patterns.md)**'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

...resources/component-patterns.md](resources/component-patterns.md)**

---

### Data Fetching

**PRIMARY PATTERN: useSuspenseQuery**
- Use with Suspense boundaries
- Cache-first strategy (check grid cache...

---
type: patterns
timestamp: '2025-12-24T06:59:37.663699+00:00'
summary: '...components/:**'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

...components/:**
- `features/`: Domain-specific (posts, comments, auth)
- `components/`: Truly reusable (SuspenseLoader, CustomAppBar)

**Feature Subdirectories:**
```
features/
  my-feature/...

---
type: patterns
timestamp: '2025-12-24T06:59:37.682259+00:00'
summary: '...Loading**: Use SuspenseLoader, not early returns'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

...Loading**: Use SuspenseLoader, not early returns
3. **useSuspenseQuery**: Primary data fetching pattern for new code
4. **Features are Organized**: api/, components/, hooks/, helpers/ subdirs
5....

---
type: patterns
timestamp: '2025-12-24T06:59:37.701500+00:00'
summary: '...# Public exports'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

...# Public exports

  components/
    SuspenseLoader/
      SuspenseLoader.tsx      # Reusable loader
    CustomAppBar/
      CustomAppBar.tsx        # Reusable app bar

  routes/
    my-route/...

---
type: patterns
timestamp: '2025-12-24T06:59:37.719254+00:00'
summary: '...SuspenseLoader.tsx      # Reusable loader'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

...SuspenseLoader.tsx      # Reusable loader
    CustomAppBar/
      CustomAppBar.tsx        # Reusable app bar

  routes/
    my-route/
      index.tsx               # Route component
      create/...

---
type: patterns
timestamp: '2025-12-24T06:59:47.086258+00:00'
summary: '..../node_modules'
tags:
- auto-captured
- post-tool-use
- file:SKILL.md
---

..../node_modules
USER node
CMD ["node", "dist/server.js"]
</code>
</example>

### CI/CD Pipeline Pattern

<example type="usage">
<code language="yaml">
# 1. Build: Docker multi-stage build
# 2. Test:...

---
type: patterns
timestamp: '2025-12-24T07:00:59.844610+00:00'
summary: '....claude'
tags:
- auto-captured
- post-tool-use
- file:lsp-setup.md
---

....claude
cp ${HOOKS_SOURCE} .claude/hooks.json
```

For multiple languages, merge hooks using this pattern:
```bash
# Read both files and combine hooks arrays
jq -s '{ hooks: [ .[0].hooks[], .[1].hooks[]...

---
type: patterns
timestamp: '2025-12-24T07:01:07.484314+00:00'
summary: '...configuration externally.** When no config files found, infer from artifacts:'
tags:
- auto-captured
- post-tool-use
- file:migrate.md
---

...configuration externally.** When no config files found, infer from artifacts:

### 2.2.1 Script Pattern Analysis

```bash
echo "=== CI-specific scripts ==="
find . -type f \( -name "*jenkins*" -o...

---
type: patterns
timestamp: '2025-12-24T07:01:07.502698+00:00'
summary: '...secrets.VARIABLE }}` or `${{ vars.VARIABLE }}` |'
tags:
- auto-captured
- post-tool-use
- file:migrate.md
---

...secrets.VARIABLE }}` or `${{ vars.VARIABLE }}` |
| `set_pipeline:` | Workflow dispatch or reusable workflows |

**Vault/CredHub secrets**: Document all `((var))` references for manual migration...

---
type: patterns
timestamp: '2025-12-24T07:01:07.522255+00:00'
summary: '...Pages action or artifact |'
tags:
- auto-captured
- post-tool-use
- file:migrate.md
---

...Pages action or artifact |
| `emailext` | Custom notification action |
| Shared libraries | Reusable workflows (`.github/workflows/*.yml` with `workflow_call`) |

<conditional trigger="Jenkins...

---
type: patterns
timestamp: '2025-12-24T07:01:07.541466+00:00'
summary: '...download-artifact` + `needs:` |'
tags:
- auto-captured
- post-tool-use
- file:migrate.md
---

...download-artifact` + `needs:` |
| `needs:` | `needs:` |
| `parallel:` | `strategy.matrix` |
| `extends:` | Reusable workflows or YAML anchors |
| `include:` | Reusable workflows |
| `variables:` | `env:` or...

---
type: patterns
timestamp: '2025-12-24T07:01:07.559568+00:00'
summary: '...parallel:` | `strategy.matrix` |'
tags:
- auto-captured
- post-tool-use
- file:migrate.md
---

...parallel:` | `strategy.matrix` |
| `extends:` | Reusable workflows or YAML anchors |
| `include:` | Reusable workflows |
| `variables:` | `env:` or `${{ vars.* }}` |
| `$CI_*` variables | `${{ github.*...

---
type: patterns
timestamp: '2025-12-24T07:01:07.578540+00:00'
summary: '...`needs:` |'
tags:
- auto-captured
- post-tool-use
- file:migrate.md
---

...`needs:` |
| `condition:` | `if:` |
| `strategy: matrix:` | `strategy.matrix` |
| `template:` | Reusable workflows |
| `resources: repositories:` | `actions/checkout` with `repository:` |
| `$(Build.*)`...
